function testConnectionList(data,el){var alert=bootbox.dialog({message:'<div class="text-center"><i class="fa fa-spin fa-spinner"></i> Loading...</div>',size:"large",backdrop:!0,onEscape:!0});$(".modal-body",alert).css("font-family","monospace");var generalmsg="Test finished with error. Check HostBill error logs for more information. ",throwError=function(msg){$(".bootbox-body",alert).html($("<span></span>").css({fontWeight:"bold",color:" #990000"}).text(msg))};return data="object"==typeof data?data:{server_id:data},$.ajax("?cmd=servers&action=test_connection",{data:data,type:"post",error:function(xhr,status,error){throwError(xhr.status+" "+error+". "+generalmsg)},success:function(data){data&&data.length?$(".bootbox-body",alert).html(parse_response(data)):throwError(generalmsg)}}),!1}function setDefault(server_id,group_id){return window.location="?cmd=servers&action=group&group="+group_id+"&make=changedef&server_id="+server_id+"&security_token="+$("input[name=security_token]").val(),!1}function loadMod(el){if("new"==$(el).val())return $(el).val(0),window.location="?cmd=managemodules",!1;var param={module_id:$(el).val()};$("#config_contain input").each(function(i,e){"checkbox"==$(this).attr("type")?param[$(this).attr("name")]=$(this).is(":checked")?"1":"0":param[$(this).attr("name")]=$(this).val(),$(this).attr("disabled","disabled")}),ajax_update("?cmd=servers&action=get_fields",param,"#config_contain",!1,!1),0==$(el).val()?$("#testing_button").hide():$("#testing_button").show()}function testConfiguration(){return testConnectionList($.extend({},$("#serverform").serializeObject(),{module_id:$("#default_module").length?$("#default_module").val():$("#modulepicker").val(),hash:$('textarea[name="hash"]').val(),secure:$('input[name="secure"]').is(":checked")}),null)}function loadStatuses(){if(!($(".toloads").length<1)){var id=$(".toloads").eq(0).attr("id");$.post("?cmd=servers&action=getstatus",{server_id:id},function(data){var resp=parse_response(data);resp.length>4&&($(".toloads").eq(0).html(resp),$(".toloads").eq(0).removeClass("toloads"),loadStatuses())})}}